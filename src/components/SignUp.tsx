
import React, { useState } from 'react';
import { useAppContext } from '@/context/AppContext';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card, CardContent, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';
import { ArrowLeftIcon, Mail, User, Lock } from 'lucide-react';
import { Separator } from '@/components/ui/separator';
import { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';
import { zodResolver } from '@hookform/resolvers/zod';
import { useForm } from 'react-hook-form';
import { z } from 'zod';
import { toast } from 'sonner';
import { cn } from '@/lib/utils';

// Create a schema for form validation
const formSchema = z.object({
  email: z.string().email({ message: "Please enter a valid email address" }),
  password: z.string().min(8, { message: "Password must be at least 8 characters" }),
  name: z.string().min(2, { message: "Name must be at least 2 characters" }),
});

// Get inferred type from schema
type FormValues = z.infer<typeof formSchema>;

const PositionedEmojis = () => (
  <div className="absolute inset-0 w-full h-full overflow-hidden pointer-events-none opacity-30">
    <span 
      className="absolute animate-bounce-subtle text-4xl"
      style={{ 
        top: '10%',
        left: '5%',
      }}
    >
      üë®‚Äç‚úàÔ∏è
    </span>
    <span 
      className="absolute animate-bounce-subtle text-4xl"
      style={{ 
        top: '15%',
        right: '5%',
      }}
    >
      ‚õµ
    </span>
    <span 
      className="absolute animate-bounce-subtle text-4xl"
      style={{ 
        top: '30%',
        left: '7%',
      }}
    >
      üó∫Ô∏è
    </span>
    <span 
      className="absolute animate-bounce-subtle text-4xl"
      style={{ 
        bottom: '15%',
        right: '8%',
      }}
    >
      ‚öì
    </span>
    <span 
      className="absolute animate-bounce-subtle text-4xl"
      style={{ 
        bottom: '40%',
        left: '10%',
      }}
    >
      üê†
    </span>
  </div>
);

const SignUp: React.FC = () => {
  const { totalSavings, weeklySkipSavings, setStep } = useAppContext();
  const [authMethod, setAuthMethod] = useState<'email' | 'oauth'>('email');
  
  // Initialize form
  const form = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      email: '',
      password: '',
      name: '',
    },
  });

  const handleSignUp = (values: FormValues) => {
    console.log('Signup values:', values);
    console.log('Total savings tracking:', totalSavings);
    console.log('Weekly skips tracking:', weeklySkipSavings);
    
    // In a real app, we would send this data to an API
    // For now, we'll just show a success message
    toast.success('Account created!', {
      description: `Welcome aboard, ${values.name}! Your savings journey awaits.`,
    });
  };

  const handleOAuthSignUp = (provider: string) => {
    console.log(`Signing up with ${provider}`);
    console.log('Total savings tracking:', totalSavings);
    console.log('Weekly skips tracking:', weeklySkipSavings);
    
    // In a real app, we would redirect to OAuth provider
    // For now, we'll just show a success message
    toast.success(`${provider} sign-up initiated`, {
      description: "This would redirect to the provider in a real app.",
    });
  };

  return (
    <div className="animate-scale-in relative">
      <div className="max-w-md mx-auto px-4">
        <div className="text-center mb-8">
          <div className="inline-block px-3 py-1 rounded-full bg-royal-blue/10 text-royal-blue text-sm font-medium mb-3">
            Step 5
          </div>
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Achieve Your Goals</h1>
          <p className="text-gray-600">
            Create an account to track your progress and achieve your savings goals!
          </p>
        </div>
        
        <Card className="relative overflow-hidden mb-8 border-0 shadow-lg">
          <PositionedEmojis />
          <CardHeader className="text-center space-y-1 relative z-10">
            <CardTitle className="text-2xl font-bold">Build habits you won't quit</CardTitle>
            <p className="text-sm text-gray-500">Grow your Habit Garden!</p>
          </CardHeader>
          
          <CardContent className="relative z-10">
            <div className="space-y-4">
              <Button 
                variant="outline" 
                className="w-full border bg-white hover:bg-gray-50 text-gray-700"
                onClick={() => handleOAuthSignUp('Google')}
              >
                <span className="mr-2">
                  <svg viewBox="0 0 24 24" width="16" height="16" className="inline">
                    <path fill="#4285F4" d="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1Z" />
                  </svg>
                </span>
                SIGN UP WITH GOOGLE
              </Button>
              
              <Button 
                variant="outline" 
                className="w-full bg-black hover:bg-gray-900 text-white"
                onClick={() => handleOAuthSignUp('Apple')}
              >
                <span className="mr-2">
                  <svg viewBox="0 0 24 24" width="16" height="16" className="inline" fill="white">
                    <path d="M17.05,15.28C16.86,15.7 16.64,16.11 16.38,16.5C16.01,17.06 15.6,17.55 15.14,17.97C14.45,18.58 13.7,18.9 12.9,18.94C12.3,18.96 11.81,18.84 11.42,18.59C11.16,18.4 10.8,18.21 10.36,18.02C9.87,17.83 9.38,17.74 8.88,17.74C8.37,17.74 7.87,17.83 7.38,18.02C6.93,18.21 6.58,18.4 6.32,18.59C5.93,18.84 5.44,18.96 4.85,18.94C4.05,18.9 3.3,18.58 2.61,17.97C2.15,17.55 1.74,17.06 1.37,16.5C0.99,15.92 0.68,15.28 0.44,14.58C0.18,13.84 0.05,13.1 0.05,12.36C0.05,11.5 0.22,10.75 0.55,10.1C0.83,9.55 1.2,9.09 1.67,8.72C2.14,8.35 2.67,8.16 3.27,8.15C3.86,8.14 4.38,8.26 4.84,8.52C5.17,8.7 5.57,8.9 6.06,9.11C6.55,9.32 7.03,9.42 7.5,9.42C7.95,9.42 8.42,9.32 8.91,9.11C9.4,8.9 9.8,8.7 10.13,8.52C10.59,8.26 11.11,8.14 11.7,8.15C12.3,8.16 12.84,8.35 13.3,8.72C13.77,9.09 14.15,9.55 14.43,10.1C14.48,10.19 14.53,10.28 14.58,10.38C14.06,10.72 13.63,11.17 13.31,11.72C12.92,12.37 12.72,13.07 12.72,13.82C12.72,14.52 12.9,15.19 13.27,15.83C13.64,16.47 14.12,16.97 14.72,17.32C14.5,17.65 14.27,17.97 14.03,18.27C13.81,18.54 13.59,18.79 13.36,19.02C12.94,19.44 12.57,19.75 12.24,19.94C11.91,20.14 11.48,20.24 10.94,20.24C10.37,20.24 9.87,20.14 9.47,19.94C9.06,19.74 8.7,19.53 8.37,19.32C7.95,19.06 7.47,18.95 6.92,18.97C6.38,18.99 5.89,19.11 5.46,19.32C5.13,19.53 4.77,19.74 4.36,19.94C3.96,20.14 3.47,20.24 2.89,20.24C2.35,20.24 1.92,20.14 1.59,19.94C1.26,19.75 0.89,19.44 0.47,19.02C0.24,18.79 0.02,18.54 -0.2,18.27C-0.44,17.97 -0.67,17.65 -0.89,17.32C-0.29,16.97 0.19,16.47 0.56,15.83C0.93,15.19 1.11,14.52 1.11,13.82C1.11,13.07 0.91,12.37 0.52,11.72C0.2,11.17 -0.22,10.72 -0.75,10.38C-0.7,10.28 -0.65,10.19 -0.6,10.1C-0.32,9.55 0.06,9.09 0.53,8.72C0.99,8.35 1.53,8.16 2.13,8.15C2.72,8.14 3.24,8.26 3.7,8.52C4.03,8.7 4.43,8.9 4.92,9.11C5.41,9.32 5.89,9.42 6.36,9.42C6.81,9.42 7.28,9.32 7.77,9.11C8.26,8.9 8.66,8.7 8.99,8.52C9.45,8.26 9.97,8.14 10.56,8.15C11.16,8.16 11.7,8.35 12.16,8.72C12.63,9.09 13.01,9.55 13.29,10.1C13.64,10.75 13.81,11.5 13.81,12.36C13.81,13.1 13.68,13.84 13.42,14.58C13.18,15.28 12.87,15.92 12.49,16.5C12.23,16.11 12.01,15.7 11.82,15.28C11.63,14.86 11.54,14.37 11.54,13.82C11.54,13.22 11.68,12.73 11.96,12.35C12.23,11.97 12.55,11.65 12.9,11.39C13.18,11.19 13.42,10.97 13.62,10.73C13.8,10.5 13.89,10.24 13.89,9.97C13.89,9.61 13.75,9.32 13.47,9.08C13.2,8.85 12.8,8.72 12.28,8.72C11.92,8.72 11.6,8.77 11.32,8.86C11.04,8.95 10.8,9.07 10.61,9.21C10.28,9.44 10.01,9.72 9.81,10.05C9.61,10.38 9.51,10.75 9.51,11.15C9.51,11.76 9.64,12.29 9.9,12.74C10.16,13.2 10.49,13.58 10.91,13.88C10.87,14.04 10.79,14.25 10.69,14.48C10.58,14.72 10.46,14.92 10.33,15.08C10.1,15.38 9.88,15.61 9.66,15.78C9.44,15.95 9.18,16.03 8.87,16.03C8.53,16.03 8.26,15.91 8.04,15.68C7.82,15.45 7.71,15.16 7.71,14.81C7.71,14.58 7.76,14.35 7.85,14.11C7.94,13.88 8.03,13.6 8.12,13.29C8.21,12.98 8.28,12.68 8.34,12.38C8.4,12.09 8.43,11.84 8.43,11.61C8.43,11.09 8.28,10.69 7.97,10.4C7.66,10.12 7.23,9.97 6.67,9.97C6.06,9.97 5.57,10.14 5.19,10.47C4.81,10.8 4.62,11.3 4.62,11.96C4.62,12.45 4.69,12.95 4.82,13.45C4.95,13.95 5.09,14.38 5.23,14.73C5.44,15.28 5.54,15.77 5.54,16.19C5.54,16.7 5.4,17.13 5.11,17.48C4.82,17.83 4.37,18 3.74,18C3.25,18 2.85,17.9 2.55,17.69C2.25,17.48 2,17.21 1.82,16.88C1.63,16.55 1.48,16.16 1.38,15.73C1.28,15.3 1.22,14.9 1.22,14.54C1.22,13.97 1.3,13.38 1.47,12.79C1.64,12.19 1.88,11.66 2.19,11.19C2.78,10.28 3.47,9.57 4.27,9.08C5.06,8.59 5.89,8.34 6.76,8.34C7.71,8.34 8.51,8.55 9.18,8.97C9.84,9.39 10.33,9.98 10.63,10.73C10.82,10.4 11.07,10.12 11.37,9.89C11.68,9.66 12.01,9.47 12.36,9.33C12.72,9.2 13.07,9.1 13.42,9.04C13.77,8.98 14.1,8.95 14.42,8.95C14.97,8.95 15.46,9.02 15.88,9.15C16.31,9.29 16.63,9.48 16.85,9.73C17.07,9.98 17.21,10.29 17.29,10.65C17.36,11.01 17.4,11.46 17.4,11.97C17.4,12.48 17.36,12.92 17.29,13.31C17.23,13.7 17.12,14.07 16.97,14.43C16.83,14.8 16.68,15.05 16.52,15.19C16.36,15.33 16.14,15.4 15.87,15.4C15.62,15.4 15.45,15.33 15.38,15.19C15.3,15.05 15.27,14.91 15.27,14.77C15.27,14.63 15.25,14.49 15.22,14.37C15.19,14.24 15.15,14.1 15.1,13.95C15.03,13.65 14.96,13.42 14.89,13.25C14.82,13.09 14.75,12.94 14.68,12.82C14.63,12.71 14.59,12.64 14.56,12.58C14.53,12.53 14.52,12.46 14.52,12.38C14.52,12.28 14.53,12.2 14.55,12.13C14.57,12.07 14.6,12 14.64,11.93C14.73,11.72 14.85,11.51 15.01,11.31C15.16,11.11 15.3,10.92 15.43,10.74C15.56,10.57 15.67,10.41 15.77,10.27C15.86,10.12 15.91,10 15.91,9.89C15.91,9.75 15.88,9.65 15.82,9.59C15.76,9.53 15.65,9.5 15.5,9.5C15.28,9.5 15.13,9.6 15.04,9.79C14.95,9.98 14.91,10.24 14.91,10.57C14.91,10.92 14.86,11.21 14.76,11.44C14.67,11.67 14.52,11.89 14.33,12.09C14.06,12.38 13.79,12.63 13.51,12.86C13.24,13.09 13.05,13.41 12.94,13.84C12.83,14.26 12.78,14.67 12.78,15.07C12.78,15.43 12.88,15.81 13.08,16.2C13.27,16.6 13.5,16.92 13.77,17.18C14.37,16.71 14.85,16.11 15.2,15.39C15.55,14.67 15.73,13.88 15.73,13.03C15.73,12.51 15.67,12 15.56,11.53C15.45,11.05 15.3,10.6 15.11,10.18C14.93,9.76 14.71,9.36 14.45,8.99C14.2,8.63 13.94,8.29 13.66,7.99C13.12,7.42 12.53,6.96 11.88,6.59C11.24,6.23 10.52,6.05 9.72,6.05C9.26,6.05 8.8,6.11 8.35,6.23C7.9,6.35 7.53,6.48 7.24,6.63C6.9,6.8 6.53,6.89 6.13,6.9C5.74,6.91 5.37,6.82 5.03,6.63C4.74,6.48 4.37,6.35 3.92,6.23C3.47,6.11 3.01,6.05 2.55,6.05C1.75,6.05 1.03,6.23 0.39,6.59C-0.26,6.96 -0.84,7.42 -1.39,7.99C-1.67,8.29 -1.92,8.63 -2.18,8.99C-2.44,9.36 -2.66,9.76 -2.84,10.18C-3.03,10.6 -3.18,11.05 -3.29,11.53C-3.4,12 -3.46,12.51 -3.46,13.03C-3.46,13.88 -3.29,14.67 -2.93,15.39C-2.58,16.11 -2.1,16.71 -1.5,17.18C-1.23,16.92 -1,16.6 -0.81,16.2C-0.61,15.81 -0.51,15.43 -0.51,15.07C-0.51,14.67 -0.56,14.26 -0.67,13.84C-0.78,13.41 -0.97,13.09 -1.24,12.86C-1.51,12.63 -1.79,12.38 -2.06,12.09C-2.25,11.89 -2.39,11.67 -2.49,11.44C-2.59,11.21 -2.64,10.92 -2.64,10.57C-2.64,10.24 -2.67,9.98 -2.76,9.79C-2.85,9.6 -3.01,9.5 -3.22,9.5C-3.37,9.5 -3.48,9.53 -3.54,9.59C-3.6,9.65 -3.63,9.75 -3.63,9.89C-3.63,10 -3.58,10.12 -3.49,10.27C-3.4,10.41 -3.28,10.57 -3.15,10.74C-3.02,10.92 -2.88,11.11 -2.73,11.31C-2.58,11.51 -2.45,11.72 -2.36,11.93C-2.32,12 -2.29,12.07 -2.27,12.13C-2.25,12.2 -2.24,12.28 -2.24,12.38C-2.24,12.46 -2.25,12.53 -2.28,12.58C-2.31,12.64 -2.35,12.71 -2.4,12.82C-2.47,12.94 -2.54,13.09 -2.61,13.25C-2.68,13.42 -2.75,13.65 -2.82,13.95C-2.87,14.1 -2.91,14.24 -2.94,14.37C-2.97,14.49 -2.99,14.63 -2.99,14.77C-2.99,14.91 -3.02,15.05 -3.1,15.19C-3.17,15.33 -3.34,15.4 -3.59,15.4C-3.86,15.4 -4.09,15.33 -4.24,15.19C-4.4,15.05 -4.55,14.8 -4.69,14.43C-4.84,14.07 -4.95,13.7 -5.01,13.31C-5.08,12.92 -5.12,12.48 -5.12,11.97C-5.12,11.46 -5.08,11.01 -5.01,10.65C-4.94,10.29 -4.79,9.98 -4.57,9.73C-4.35,9.48 -4.04,9.29 -3.61,9.15C-3.18,9.02 -2.7,8.95 -2.14,8.95C-1.82,8.95 -1.49,8.98 -1.14,9.04C-0.8,9.1 -0.44,9.2 -0.09,9.33C0.26,9.47 0.59,9.66 0.9,9.89C1.21,10.12 1.46,10.4 1.65,10.73C1.95,9.98 2.44,9.39 3.1,8.97C3.77,8.55 4.57,8.34 5.52,8.34C6.39,8.34 7.22,8.59 8.02,9.08C8.82,9.57 9.51,10.28 10.09,11.19C10.4,11.66 10.64,12.19 10.81,12.79C10.98,13.38 11.06,13.97 11.06,14.54C11.06,14.9 11,15.3 10.9,15.73C10.8,16.16 10.65,16.55 10.46,16.88C10.28,17.21 10.03,17.48 9.73,17.69C9.43,17.9 9.03,18 8.54,18C7.91,18 7.45,17.83 7.16,17.48C6.87,17.13 6.73,16.7 6.73,16.19C6.73,15.77 6.83,15.28 7.04,14.73C7.18,14.38 7.32,13.95 7.45,13.45C7.58,12.95 7.65,12.45 7.65,11.96C7.65,11.3 7.46,10.8 7.08,10.47C6.7,10.14 6.21,9.97 5.6,9.97C5.04,9.97 4.61,10.12 4.3,10.4C3.99,10.69 3.84,11.09 3.84,11.61C3.84,11.84 3.87,12.09 3.93,12.38C3.99,12.68 4.06,12.98 4.15,13.29C4.24,13.6 4.33,13.88 4.42,14.11C4.51,14.35 4.56,14.58 4.56,14.81C4.56,15.16 4.45,15.45 4.23,15.68C4.01,15.91 3.73,16.03 3.4,16.03C3.09,16.03 2.82,15.95 2.61,15.78C2.39,15.61 2.17,15.38 1.94,15.08C1.81,14.92 1.69,14.72 1.58,14.48C1.47,14.25 1.4,14.04 1.36,13.88C1.78,13.58 2.11,13.2 2.37,12.74C2.63,12.29 2.76,11.76 2.76,11.15C2.76,10.75 2.66,10.38 2.46,10.05C2.26,9.72 1.99,9.44 1.66,9.21C1.47,9.07 1.23,8.95 0.95,8.86C0.68,8.77 0.36,8.72 -0.01,8.72C-0.53,8.72 -0.93,8.85 -1.2,9.08C-1.48,9.32 -1.62,9.61 -1.62,9.97C-1.62,10.24 -1.53,10.5 -1.35,10.73C-1.15,10.97 -0.91,11.19 -0.63,11.39C-0.28,11.65 0.04,11.97 0.31,12.35C0.59,12.73 0.73,13.22 0.73,13.82C0.73,14.37 0.64,14.86 0.45,15.28C0.26,15.7 0.04,16.11 -0.22,16.5C-0.58,17.06 -0.99,17.55 -1.45,17.97C-2.14,18.58 -2.89,18.9 -3.69,18.94C-4.29,18.96 -4.78,18.84 -5.17,18.59C-5.43,18.4 -5.78,18.21 -6.23,18.02C-6.72,17.83 -7.21,17.74 -7.71,17.74C-8.22,17.74 -8.71,17.83 -9.21,18.02C-9.66,18.21 -10.01,18.4 -10.27,18.59C-10.66,18.84 -11.15,18.96 -11.74,18.94C-12.54,18.9 -13.29,18.58 -13.98,17.97C-14.44,17.55 -14.85,17.06 -15.22,16.5C-15.48,16.11 -15.7,15.7 -15.89,15.28C-16.08,14.86 -16.17,14.37 -16.17,13.82C-16.17,13.22 -16.03,12.73 -15.76,12.35C-15.49,11.97 -15.17,11.65 -14.82,11.39C-14.54,11.19 -14.3,10.97 -14.1,10.73C-13.91,10.5 -13.82,10.24 -13.82,9.97C-13.82,9.61 -13.96,9.32 -14.24,9.08C-14.51,8.85 -14.91,8.72 -15.43,8.72C-15.79,8.72 -16.11,8.77 -16.39,8.86C-16.67,8.95 -16.9,9.07 -17.1,9.21C-17.43,9.44 -17.7,9.72 -17.9,10.05C-18.1,10.38 -18.2,10.75 -18.2,11.15C-18.2,11.76 -18.07,12.29 -17.81,12.74C-17.55,13.2 -17.22,13.58 -16.8,13.88C-16.84,14.04 -16.92,14.25 -17.02,14.48C-17.13,14.72 -17.25,14.92 -17.38,15.08C-17.61,15.38 -17.83,15.61 -18.05,15.78C-18.26,15.95 -18.53,16.03 -18.84,16.03C-19.18,16.03 -19.45,15.91 -19.67,15.68C-19.89,15.45 -20,15.16 -20,14.81C-20,14.58 -19.95,14.35 -19.86,14.11C-19.77,13.88 -19.68,13.6 -19.59,13.29C-19.5,12.98 -19.43,12.68 -19.37,12.38C-19.31,12.09 -19.28,11.84 -19.28,11.61C-19.28,11.09 -19.43,10.69 -19.74,10.4C-20.05,10.12 -20.48,9.97 -21.04,9.97C-21.65,9.97 -22.14,10.14 -22.52,10.47C-22.9,10.8 -23.09,11.3 -23.09,11.96C-23.09,12.45 -23.02,12.95 -22.89,13.45C-22.76,13.95 -22.62,14.38 -22.48,14.73C-22.27,15.28 -22.17,15.77 -22.17,16.19C-22.17,16.7 -22.31,17.13 -22.6,17.48C-22.89,17.83 -23.35,18 -23.98,18C-24.47,18 -24.87,17.9 -25.17,17.69C-25.47,17.48 -25.71,17.21 -25.89,16.88C-26.08,16.55 -26.23,16.16 -26.33,15.73C-26.43,15.3 -26.49,14.9 -26.49,14.54C-26.49,13.97 -26.41,13.38 -26.24,12.79C-26.07,12.19 -25.83,11.66 -25.52,11.19C-24.93,10.28 -24.24,9.57 -23.44,9.08C-22.65,8.59 -21.82,8.34 -20.95,8.34C-20,8.34 -19.2,8.55 -18.53,8.97C-17.87,9.39 -17.38,9.98 -17.08,10.73C-16.89,10.4 -16.64,10.12 -16.33,9.89C-16.03,9.66 -15.7,9.47 -15.35,9.33C-14.99,9.2 -14.64,9.1 -14.29,9.04C-13.94,8.98 -13.62,8.95 -13.29,8.95C-12.74,8.95 -12.26,9.02 -11.83,9.15C-11.4,9.29 -11.09,9.48 -10.87,9.73C-10.65,9.98 -10.5,10.29 -10.43,10.65C-10.36,11.01 -10.32,11.46 -10.32,11.97C-10.32,12.48 -10.36,12.92 -10.43,13.31C-10.49,13.7 -10.6,14.07 -10.74,14.43C-10.88,14.8 -11.04,15.05 -11.2,15.19C-11.36,15.33 -11.58,15.4 -11.85,15.4C-12.1,15.4 -12.27,15.33 -12.34,15.19C-12.42,15.05 -12.45,14.91 -12.45,14.77C-12.45,14.63 -12.47,14.49 -12.5,14.37C-12.53,14.24 -12.57,14.1 -12.62,13.95C-12.69,13.65 -12.76,13.42 -12.83,13.25C-12.9,13.09 -12.97,12.94 -13.04,12.82C-13.09,12.71 -13.13,12.64 -13.16,12.58C-13.19,12.53 -13.2,12.46 -13.2,12.38C-13.2,12.28 -13.19,12.2 -13.17,12.13C-13.15,12.07 -13.12,12 -13.08,11.93C-12.99,11.72 -12.87,11.51 -12.71,11.31C-12.56,11.11 -12.42,10.92 -12.29,10.74C-12.16,10.57 -12.05,10.41 -11.95,10.27C-11.86,10.12 -11.81,10 -11.81,9.89C-11.81,9.75 -11.84,9.65 -11.9,9.59C-11.96,9.53 -12.07,9.5 -12.22,9.5C-12.44,9.5 -12.59,9.6 -12.68,9.79C-12.77,9.98 -12.81,10.24 -12.81,10.57C-12.81,10.92 -12.86,11.21 -12.96,11.44C-13.05,11.67 -13.2,11.89 -13.39,12.09C-13.66,12.38 -13.93,12.63 -14.21,12.86C-14.48,13.09 -14.67,13.41 -14.78,13.84C-14.89,14.26 -14.94,14.67 -14.94,15.07C-14.94,15.43 -14.84,15.81 -14.64,16.2C-14.45,16.6 -14.22,16.92 -13.95,17.18C-13.35,16.71 -12.87,16.11 -12.52,15.39C-12.17,14.67 -11.99,13.88 -11.99,13.03C-11.99,12.51 -12.05,12 -12.16,11.53C-12.27,11.05 -12.42,10.6 -12.61,10.18C-12.79,9.76 -13.01,9.36 -13.27,8.99C-13.52,8.63 -13.78,8.29 -14.06,7.99C-14.6,7.42 -15.19,6.96 -15.84,6.59C-16.48,6.23 -17.2,6.05 -18,6.05C-18.46,6.05 -18.92,6.11 -19.37,6.23C-19.82,6.35 -20.19,6.48 -20.48,6.63C-20.82,6.8 -21.19,6.89 -21.59,6.9C-21.98,6.91 -22.35,6.82 -22.69,6.63C-22.98,6.48 -23.34,6.35 -23.79,6.23C-24.25,6.11 -24.71,6.05 -25.17,6.05C-25.97,6.05 -26.68,6.23 -27.33,6.59C-27.98,6.96 -28.57,7.42 -29.11,7.99C-29.4,8.29 -29.65,8.63 -29.91,8.99C-30.17,9.36 -30.39,9.76 -30.57,10.18C-30.75,10.6 -30.9,11.05 -31.01,11.53C-31.12,12 -31.18,12.51 -31.18,13.03C-31.18,13.88 -31,14.67 -30.65,15.39C-30.3,16.11 -29.82,16.71 -29.22,17.18C-28.95,16.92 -28.72,16.6 -28.53,16.2C-28.33,15.81 -28.23,15.43 -28.23,15.07C-28.23,14.67 -28.28,14.26 -28.39,13.84C-28.5,13.41 -28.69,13.09 -28.96,12.86C-29.23,12.63 -29.51,12.38 -29.78,12.09C-29.97,11.89 -30.11,11.67 -30.21,11.44C-30.31,11.21 -30.36,10.92 -30.36,10.57C-30.36,10.24 -30.39,9.98 -30.48,9.79C-30.57,9.6 -30.73,9.5 -30.94,9.5C-31.09,9.5 -31.2,9.53 -31.26,9.59C-31.32,9.65 -31.35,9.75 -31.35,9.89C-31.35,10 -31.3,10.12 -31.21,10.27C-31.12,10.41 -31,10.57 -30.87,10.74C-30.74,10.92 -30.6,11.11 -30.45,11.31C-30.3,11.51 -30.17,11.72 -30.08,11.93C-30.04,12 -30.01,12.07 -29.99,12.13C-29.97,12.2 -29.96,12.28 -29.96,12.38C-29.96,12.46 -29.97,12.53 -30,12.58C-30.03,12.64 -30.07,12.71 -30.12,12.82C-30.19,12.94 -30.26,13.09 -30.33,13.25C-30.4,13.42 -30.47,13.65 -30.54,13.95C-30.59,14.1 -30.63,14.24 -30.66,14.37C-30.69,14.49 -30.71,14.63 -30.71,14.77C-30.71,14.91 -30.74,15.05 -30.82,15.19C-30.89,15.33 -31.06,15.4 -31.31,15.4C-31.58,15.4 -31.81,15.33 -31.96,15.19C-32.12,15.05 -32.27,14.8 -32.41,14.43C-32.56,14.07 -32.67,13.7 -32.73,13.31C-32.8,12.92 -32.84,12.48 -32.84,11.97C-32.84,11.46 -32.8,11.01 -32.73,10.65C-32.66,10.29 -32.51,9.98 -32.29,9.73C-32.07,9.48 -31.76,9.29 -31.33,9.15C-30.9,9.02 -30.42,8.95 -29.86,8.95C-29.54,8.95 -29.21,8.98 -28.86,9.04C-28.52,9.1 -28.16,9.2 -27.81,9.33C-27.46,9.47 -27.13,9.66 -26.82,9.89C-26.51,10.12 -26.26,10.4 -26.07,10.73C-25.77,9.98 -25.28,9.39 -24.62,8.97C-23.95,8.55 -23.15,8.34 -22.2,8.34C-21.33,8.34 -20.5,8.59 -19.7,9.08C-18.9,9.57 -18.21,10.28 -17.63,11.19C-17.32,11.66 -17.08,12.19 -16.91,12.79C-16.74,13.38 -16.66,13.97 -16.66,14.54C-16.66,14.9 -16.72,15.3 -16.82,15.73C-16.92,16.16 -17.07,16.55 -17.26,16.88C-17.44,17.21 -17.69,17.48 -17.99,17.69C-18.29,17.9 -18.69,18 -19.18,18C-19.81,18 -20.27,17.83 -20.56,17.48C-20.85,17.13 -20.99,16.7 -20.99,16.19C-20.99,15.77 -20.89,15.28 -20.68,14.73C-20.54,14.38 -20.4,13.95 -20.27,13.45C-20.14,12.95 -20.07,12.45 -20.07,11.96C-20.07,11.3 -20.26,10.8 -20.64,10.47C-21.02,10.14 -21.51,9.97 -22.12,9.97C-22.68,9.97 -23.11,10.12 -23.42,10.4C-23.73,10.69 -23.88,11.09 -23.88,11.61C-23.88,11.84 -23.85,12.09 -23.79,12.38C-23.73,12.68 -23.66,12.98 -23.57,13.29C-23.48,13.6 -23.39,13.88 -23.3,14.11C-23.21,14.35 -23.16,14.58 -23.16,14.81C-23.16,15.16 -23.27,15.45 -23.49,15.68C-23.71,15.91 -23.99,16.03 -24.32,16.03C-24.63,16.03 -24.9,15.95 -25.11,15.78C-25.33,15.61 -25.55,15.38 -25.78,15.08C-25.91,14.92 -26.03,14.72 -26.14,14.48C-26.25,14.25 -26.32,14.04 -26.36,13.88C-25.94,13.58 -25.61,13.2 -25.35,12.74C-25.09,12.29 -24.96,11.76 -24.96,11.15C-24.96,10.75 -25.06,10.38 -25.26,10.05C-25.46,9.72 -25.73,9.44 -26.06,9.21C-26.25,9.07 -26.49,8.95 -26.77,8.86C-27.04,8.77 -27.36,8.72 -27.73,8.72C-28.25,8.72 -28.65,8.85 -28.92,9.08C-29.2,9.32 -29.34,9.61 -29.34,9.97C-29.34,10.24 -29.25,10.5 -29.07,10.73C-28.87,10.97 -28.63,11.19 -28.35,11.39C-28,11.65 -27.68,11.97 -27.41,12.35C-27.13,12.73 -26.99,13.22 -26.99,13.82C-26.99,14.37 -27.08,14.86 -27.27,15.28C-27.46,15.7 -27.68,16.11 -27.94,16.5C-28.3,17.06 -28.71,17.55 -29.17,17.97C-29.86,18.58 -30.61,18.9 -31.41,18.94C-32.01,18.96 -32.5,18.84 -32.89,18.59C-33.15,18.4 -33.5,18.21 -33.95,18.02C-34.44,17.83 -34.93,17.74 -35.43,17.74C-35.94,17.74 -36.43,17.83 -36.93,18.02C-37.38,18.21 -37.73,18.4 -37.99,18.59C-38.38,18.84 -38.87,18.96 -39.46,18.94"/>
                </span>
                SIGN UP WITH APPLE
              </Button>
              
              <div className="relative my-6">
                <div className="absolute inset-0 flex items-center">
                  <span className="w-full border-t" />
                </div>
                <div className="relative flex justify-center text-xs uppercase">
                  <span className="bg-background px-2 text-muted-foreground">
                    OR
                  </span>
                </div>
              </div>
              
              <Form {...form}>
                <form onSubmit={form.handleSubmit(handleSignUp)} className="space-y-4">
                  <FormField
                    control={form.control}
                    name="name"
                    render={({ field }) => (
                      <FormItem>
                        <FormLabel>Name</FormLabel>
                        <FormControl>
                          <div className="relative">
                            <User className="absolute left-3 top-2.5 h-5 w-5 text-muted-foreground" />
                            <Input placeholder="Your name" className="pl-10" {...field} />
                          </div>
                        </FormControl>
                        <FormMessage />
                      </FormItem>
                    )}
                  />
                  
                  <FormField
                    control={form.control}
                    name="email"
                    render={({ field }) => (
                      <FormItem>
                        <FormLabel>Email</FormLabel>
                        <FormControl>
                          <div className="relative">
                            <Mail className="absolute left-3 top-2.5 h-5 w-5 text-muted-foreground" />
                            <Input placeholder="Your email" type="email" className="pl-10" {...field} />
                          </div>
                        </FormControl>
                        <FormMessage />
                      </FormItem>
                    )}
                  />
                  
                  <FormField
                    control={form.control}
                    name="password"
                    render={({ field }) => (
                      <FormItem>
                        <FormLabel>Password</FormLabel>
                        <FormControl>
                          <div className="relative">
                            <Lock className="absolute left-3 top-2.5 h-5 w-5 text-muted-foreground" />
                            <Input placeholder="Create a password" type="password" className="pl-10" {...field} />
                          </div>
                        </FormControl>
                        <FormMessage />
                      </FormItem>
                    )}
                  />
                  
                  <Button 
                    type="submit" 
                    className="w-full bg-royal-blue hover:bg-royal-blue/90"
                  >
                    <Mail className="mr-2 h-4 w-4" />
                    SIGN UP WITH EMAIL
                  </Button>
                </form>
              </Form>
              
              <div className="mt-6 text-center text-xs text-gray-500">
                By signing up, you agree to our <a href="#" className="underline">Terms of Service</a> & <a href="#" className="underline">Privacy Policy</a>
              </div>
            </div>
          </CardContent>
          
          <CardFooter className="flex justify-center border-t p-6 relative z-10">
            <div className="text-center">
              <p className="text-sm text-gray-600">
                Already have an account? 
                <Button variant="link" className="pl-1 text-royal-blue">
                  Log in
                </Button>
              </p>
            </div>
          </CardFooter>
        </Card>
        
        <div className="flex justify-between">
          <Button 
            variant="outline"
            className="px-4 py-2"
            onClick={() => setStep(4)}
          >
            <ArrowLeftIcon className="mr-2" size={16} />
            <span>Back</span>
          </Button>
        </div>
      </div>
    </div>
  );
};

export default SignUp;
